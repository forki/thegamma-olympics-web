!function(e,n){if("function"==typeof define&&define.amd)define(["exports"],n);else if("undefined"!=typeof exports)n(exports);else{var t={exports:{}};n(t.exports),e.fableCore=t.exports}}(this,function(e){"use strict";function n(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function t(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function r(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){return[e,n]}function u(e,n,t){return[e,n,t]}Object.defineProperty(e,"__esModule",{value:!0}),e.Tuple=o,e.Tuple3=u;var a=function(){function e(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return e(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:null;return"undefined"==typeof e.__FABLE_CORE__&&(e.__FABLE_CORE__={types:new Map,symbols:{interfaces:Symbol("interfaces"),typeName:Symbol("typeName")}}),e.__FABLE_CORE__}(),f=l.symbols;e.Symbol=f;var d=e.Util=function(){function e(){i(this,e)}return e.setInterfaces=function(e,n,t){if(Array.isArray(n)&&n.length>0){var r=e[f.interfaces];if(Array.isArray(r))for(var i=0;i<n.length;i++)r.indexOf(n[i])==-1&&r.push(n[i]);else e[f.interfaces]=n}t&&(e[f.typeName]=t,l.types.set(t,e.constructor))},e.hasInterface=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return Array.isArray(e[f.interfaces])&&e[f.interfaces].some(function(e){return t.indexOf(e)>=0})},e.getTypeFullName=function(e){return e.prototype&&e.prototype[f.typeName]?e.prototype[f.typeName]:e.name||"unknown"},e.getTypeNamespace=function(n){var t=e.getTypeFullName(n),r=t.lastIndexOf(".");return r>-1?t.substr(0,r):""},e.getTypeName=function(n){var t=e.getTypeFullName(n),r=t.lastIndexOf(".");return t.substr(r+1)},e.getRestParams=function(e,n){for(var t=e.length,r=Array(t>n?t-n:0),i=n;i<t;i++)r[i-n]=e[i];return r},e.toString=function(e){return null!=e&&"function"==typeof e.ToString?e.ToString():String(e)},e.equals=function(n,t){return null==n?null==t:null!=t&&(Object.getPrototypeOf(n)===Object.getPrototypeOf(t)&&(Array.isArray(n)||ArrayBuffer.isView(n)?n.length==t.length&&w.fold2(function(n,t,r){return n?e.equals(t,r):n},!0,n,t):n instanceof Date?v.equals(n,t):e.hasInterface(n,"System.IEquatable")?n.Equals(t):n===t))},e.compare=function(n,t){return null==n?null==t?0:-1:null==t?-1:Object.getPrototypeOf(n)!==Object.getPrototypeOf(t)?-1:Array.isArray(n)||ArrayBuffer.isView(n)?n.length!=t.length?n.length<t.length?-1:1:w.fold2(function(n,t,r){return 0!==n?n:e.compare(t,r)},0,n,t):e.hasInterface(n,"System.IComparable")?n.CompareTo(t):n<t?-1:n>t?1:0},e.equalsRecords=function(n,t){for(var r=Object.getOwnPropertyNames(n),i=0;i<r.length;i++)if(!e.equals(n[r[i]],t[r[i]]))return!1;return!0},e.compareRecords=function(n,t){for(var r=Object.getOwnPropertyNames(n),i=0;i<r.length;i++){var o=e.compare(n[r[i]],t[r[i]]);if(0!==o)return o}return 0},e.equalsUnions=function(n,t){if(n.Case!==t.Case)return!1;for(var r=0;r<n.Fields.length;r++)if(!e.equals(n.Fields[r],t.Fields[r]))return!1;return!0},e.compareUnions=function(n,t){var r=e.compare(n.Case,t.Case);if(0!==r)return r;for(var i=0;i<n.Fields.length;i++)if(r=e.compare(n.Fields[i],t.Fields[i]),0!==r)return r;return 0},e.createDisposable=function(e){var n={Dispose:e};return n[f.interfaces]=["System.IDisposable"],n},e.createObj=function(e){return w.fold(function(e,n){return e[n[0]]=n[1],e},{},e)},e.toJson=function(n){return JSON.stringify(n,function(n,t){if(ArrayBuffer.isView(t))return Array.from(t);if(null!=t&&"object"===("undefined"==typeof t?"undefined":c(t))){if(t instanceof C||t instanceof O||t instanceof Set)return{$type:t[f.typeName]||"System.Collections.Generic.HashSet",$values:Array.from(t)};if(t instanceof E||t instanceof Map)return w.fold(function(e,n){return e[n[0]]=n[1],e},{$type:t[f.typeName]||"System.Collections.Generic.Dictionary"},t);if(t[f.typeName]){if(e.hasInterface(t,"FSharpUnion","FSharpRecord","FSharpException"))return Object.assign({$type:t[f.typeName]},t);for(var r=Object.getPrototypeOf(t),i=Object.getOwnPropertyNames(r),o={$type:t[f.typeName]},u=0;u<i.length;u++){var a=Object.getOwnPropertyDescriptor(r,i[u]);a.get&&(o[i[u]]=a.get.apply(t))}return o}}return t})},e.ofJson=function(e){return JSON.parse(e,function(e,n){if(null!=n&&"object"===("undefined"==typeof n?"undefined":c(n))&&"string"==typeof n.$type){var t=n.$type.replace("+","."),r=t.indexOf("`");if(r>-1?t=t.substr(0,r):(r=t.indexOf(","),t=r>-1?t.substr(0,r):t),"System.Collections.Generic.List"===t||t.indexOf("[]")===t.length-2)return n.$values;if("Microsoft.FSharp.Collections.FSharpList"===t)return C.ofArray(n.$values);if("Microsoft.FSharp.Collections.FSharpSet"==t)return O.create(n.$values);if("System.Collections.Generic.HashSet"==t)return new Set(n.$values);if("Microsoft.FSharp.Collections.FSharpMap"==t)return delete n.$type,E.create(Object.getOwnPropertyNames(n).map(function(e){return[e,n[e]]}));if("System.Collections.Generic.Dictionary"==t)return delete n.$type,new Map(Object.getOwnPropertyNames(n).map(function(e){return[e,n[e]]}));var i=l.types.get(t);if(i)return delete n.$type,Object.assign(new i,n)}return n})},e}();d.toPlainJsObj=function(e){if(null!=e&&e.constructor!=Object){for(var n={},t=Object.getOwnPropertyNames(e),r=0;r<t.length;r++)n[t[r]]=e[t[r]];var i=Object.getPrototypeOf(e);if(null!=i){t=Object.getOwnPropertyNames(i);for(var o=0;o<t.length;o++){var u=Object.getOwnPropertyDescriptor(i,t[o]);u.value?n[t[o]]=u.value:u.get&&(n[t[o]]=u.get.apply(e))}}return n}return e};var p=e.GenericComparer=function e(n){i(this,e),this.Compare=n||d.compare};d.setInterfaces(p.prototype,["System.IComparer"],"Fable.Core.GenericComparer");var m=e.Choice=function(){function e(n,t){i(this,e),this.Case=n,this.Fields=t}return e.Choice1Of2=function(n){return new e("Choice1Of2",[n])},e.Choice2Of2=function(n){return new e("Choice2Of2",[n])},e.prototype.Equals=function(e){return d.equalsUnions(this,e)},e.prototype.CompareTo=function(e){return d.compareUnions(this,e)},s(e,[{key:"valueIfChoice1",get:function(){return"Choice1Of2"===this.Case?this.Fields[0]:null}},{key:"valueIfChoice2",get:function(){return"Choice2Of2"===this.Case?this.Fields[0]:null}}]),e}();d.setInterfaces(m.prototype,["FSharpUnion","System.IEquatable","System.IComparable"],"Microsoft.FSharp.Core.FSharpChoice");var y=e.TimeSpan=function(e){function n(){return i(this,n),t(this,e.apply(this,arguments))}return r(n,e),n.create=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],t=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?0:arguments[3],i=arguments.length<=4||void 0===arguments[4]?0:arguments[4];switch(arguments.length){case 1:return this.fromTicks(arguments[0]);case 3:e=0,n=arguments[0],t=arguments[1],r=arguments[2],i=0;break;default:e=arguments[0],n=arguments[1],t=arguments[2],r=arguments[3],i=arguments[4]||0}return 864e5*e+36e5*n+6e4*t+1e3*r+i},n.fromTicks=function(e){return e/1e4},n.fromDays=function(e){return n.create(e,0,0,0)},n.fromHours=function(e){return n.create(e,0,0)},n.fromMinutes=function(e){return n.create(0,e,0)},n.fromSeconds=function(e){return n.create(0,0,e)},n.days=function(e){return Math.floor(e/864e5)},n.hours=function(e){return Math.floor(e%864e5/36e5)},n.minutes=function(e){return Math.floor(e%36e5/6e4)},n.seconds=function(e){return Math.floor(e%6e4/1e3)},n.milliseconds=function(e){return Math.floor(e%1e3)},n.ticks=function(e){return 1e4*e},n.totalDays=function(e){return e/864e5},n.totalHours=function(e){return e/36e5},n.totalMinutes=function(e){return e/6e4},n.totalSeconds=function(e){return e/1e3},n.negate=function(e){return e*-1},n.add=function(e,n){return e+n},n.subtract=function(e,n){return e-n},n}(Number);y.compare=d.compare,y.compareTo=d.compare,y.duration=Math.abs;var h=e.DateKind=void 0;!function(e){e[e.UTC=1]="UTC",e[e.Local=2]="Local"}(h||(e.DateKind=h={}));var v=function(e){function n(){return i(this,n),t(this,e.apply(this,arguments))}return r(n,e),n.__changeKind=function(e,n){var t=void 0;return e.kind==n?e:(t=new Date(e.getTime()),t.kind=n,t)},n.__getValue=function(e,n){return e[(e.kind==h.UTC?"getUTC":"get")+n]()},n.minValue=function(){return n.parse(-864e13,1)},n.maxValue=function(){return n.parse(864e13,1)},n.parse=function(e,n){var t=null==e?new Date:new Date(e);if(isNaN(t.getTime()))throw"The string is not a valid Date.";return t.kind=n||h.Local,t},n.create=function(e,n,t){var r=arguments.length<=3||void 0===arguments[3]?0:arguments[3],i=arguments.length<=4||void 0===arguments[4]?0:arguments[4],o=arguments.length<=5||void 0===arguments[5]?0:arguments[5],u=arguments.length<=6||void 0===arguments[6]?0:arguments[6],a=arguments.length<=7||void 0===arguments[7]?h.Local:arguments[7],s=a===h.UTC?new Date(Date.UTC(e,n-1,t,r,i,o,u)):new Date(e,n-1,t,r,i,o,u);if(isNaN(s.getTime()))throw"The parameters describe an unrepresentable Date.";return s.kind=a,s},n.utcNow=function(){return n.parse(null,1)},n.today=function(){return n.date(n.now())},n.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},n.daysInMonth=function(e,t){return 2==t?n.isLeapYear(e)?29:28:t>=8?t%2==0?31:30:t%2==0?30:31},n.toUniversalTime=function(e){return n.__changeKind(e,1)},n.toLocalTime=function(e){return n.__changeKind(e,2)},n.timeOfDay=function(e){return y.create(n.hour(e),n.minute(e),n.second(e))},n.date=function(e){return n.create(n.year(e),n.month(e),n.day(e),0,0,0,0,e.kind)},n.day=function(e){return n.__getValue(e,"Date")},n.hour=function(e){return n.__getValue(e,"Hours")},n.millisecond=function(e){return n.__getValue(e,"Milliseconds")},n.minute=function(e){return n.__getValue(e,"Minutes")},n.month=function(e){return n.__getValue(e,"Month")+1},n.second=function(e){return n.__getValue(e,"Seconds")},n.year=function(e){return n.__getValue(e,"FullYear")},n.ticks=function(e){return 1e4*(e.getTime()+62135604e6)},n.dayOfWeek=function(e){return n.__getValue(e,"Day")},n.dayOfYear=function(e){for(var t=n.year(e),r=n.month(e),i=n.day(e),o=1;o<r;o++)i+=n.daysInMonth(t,o);return i},n.add=function(e,t){return n.parse(e.getTime()+t,e.kind)},n.addDays=function(e,t){return n.parse(e.getTime()+864e5*t,e.kind)},n.addHours=function(e,t){return n.parse(e.getTime()+36e5*t,e.kind)},n.addMinutes=function(e,t){return n.parse(e.getTime()+6e4*t,e.kind)},n.addSeconds=function(e,t){return n.parse(e.getTime()+1e3*t,e.kind)},n.addMilliseconds=function(e,t){return n.parse(e.getTime()+t,e.kind)},n.addTicks=function(e,t){return n.parse(e.getTime()+t/1e4,e.kind)},n.addYears=function(e,t){var r=n.month(e),i=n.year(e)+t,o=n.daysInMonth(i,r),u=Math.min(o,n.day(e));return n.create(i,r,u,n.hour(e),n.minute(e),n.second(e),n.millisecond(e),e.kind)},n.addMonths=function(e,t){var r=n.month(e)+t,i=0,o=0;r>12?(i=r%12,o=Math.floor(r/12),r=i):r<1&&(i=12+r%12,o=Math.floor(r/12)+(12==i?-1:0),r=i);var u=n.year(e)+o,a=n.daysInMonth(u,r),s=Math.min(a,n.day(e));return n.create(u,r,s,n.hour(e),n.minute(e),n.second(e),n.millisecond(e),e.kind)},n.subtract=function(e,t){return"number"==typeof t?n.parse(e.getTime()-t,e.kind):e.getTime()-t.getTime()},n.toLongDateString=function(e){return e.toDateString()},n.toShortDateString=function(e){return e.toLocaleDateString()},n.toLongTimeString=function(e){return e.toLocaleTimeString()},n.toShortTimeString=function(e){return e.toLocaleTimeString().replace(/:\d\d(?!:)/,"")},n.equals=function(e,n){return e.getTime()==n.getTime()},n}(Date);v.now=v.parse,v.toBinary=v.ticks,v.compareTo=d.compare,v.compare=d.compare,v.op_Addition=v.add,v.op_Subtraction=v.subtract,e.Date=v;var F=e.Timer=function(){function e(n){i(this,e),this.Interval=n>0?n:100,this.AutoReset=!0,this._elapsed=new R}return e.prototype.Dispose=function(){this.Enabled=!1,this._isDisposed=!0},e.prototype.Close=function(){this.Dispose()},e.prototype.Start=function(){this.Enabled=!0},e.prototype.Stop=function(){this.Enabled=!1},s(e,[{key:"Elapsed",get:function(){return this._elapsed}},{key:"Enabled",get:function(){return this._enabled},set:function(e){var n=this;this._isDisposed||this._enabled==e||((this._enabled=e)?this.AutoReset?this._intervalId=setInterval(function(){n.AutoReset||(n.Enabled=!1),n._elapsed.Trigger(new Date)},this.Interval):this._timeoutId=setTimeout(function(){n.Enabled=!1,n._timeoutId=0,n.AutoReset&&(n.Enabled=!0),n._elapsed.Trigger(new Date)},this.Interval):(this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=0),this._intervalId&&(clearInterval(this._intervalId),this._intervalId=0)))}}]),e}();d.setInterfaces(F.prototype,["System.IDisposable"]);var S=function(){function e(){i(this,e)}return e.fsFormat=function(n){function t(e){return!(null===e||"object"!==("undefined"==typeof e?"undefined":c(e))||e instanceof Number||e instanceof String||e instanceof Boolean)}function r(n,r){return n.replace(e.fsFormatRegExp,function(n,i,o,u,a,s){switch(s){case"f":case"F":r=r.toFixed(a||6);break;case"g":case"G":r=r.toPrecision(a);break;case"e":case"E":r=r.toExponential(a);break;case"A":r=(r instanceof E?"map ":r instanceof O?"set ":"")+JSON.stringify(r,function(e,n){return n&&n[Symbol.iterator]&&!Array.isArray(n)&&t(n)?Array.from(n):n})}var c=o.indexOf("+")>=0&&parseInt(r)>=0;if(!isNaN(u=parseInt(u))){var l=u>=0&&o.indexOf("0")>=0?"0":" ";r=e.padLeft(r,Math.abs(u)-(c?1:0),l,u<0)}return i+(c?"+"+r:r)})}function i(n){return function(t){var u=r(n,t);return e.fsFormatRegExp.test(u)?i(u):o(u.replace(/%%/g,"%"))}}var o=void 0;return function(t){return o=t,e.fsFormatRegExp.test(n)?i(n):o(n)}},e.format=function(n){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return n.replace(e.formatRegExp,function(n,t,i,o){var u=r[t];if("number"==typeof u)switch((o||"").substring(0,1)){case"f":case"F":u=o.length>1?u.toFixed(o.substring(1)):u.toFixed(2);break;case"g":case"G":u=o.length>1?u.toPrecision(o.substring(1)):u.toPrecision();break;case"e":case"E":u=o.length>1?u.toExponential(o.substring(1)):u.toExponential();break;case"p":case"P":u=(o.length>1?(100*u).toFixed(o.substring(1)):(100*u).toFixed(2))+" %"}else if(u instanceof Date){if(1===o.length)switch(o){case"D":u=u.toDateString();break;case"T":u=u.toLocaleTimeString();break;case"d":u=u.toLocaleDateString();break;case"t":u=u.toLocaleTimeString().replace(/:\d\d(?!:)/,"")}u=o.replace(/\w+/g,function(e){var n=e;switch(e.substring(0,1)){case"y":n=e.length<4?v.year(u)%100:v.year(u);break;case"h":n=u.getHours()>12?v.hour(u)%12:v.hour(u);break;case"M":n=v.month(u);break;case"d":n=v.day(u);break;case"H":n=v.hour(u);break;case"m":n=v.minute(u);break;case"s":n=v.second(u)}return n!==e&&n<10&&e.length>1&&(n="0"+n),n})}return isNaN(i=parseInt((i||"").substring(1)))||(u=e.padLeft(u,Math.abs(i)," ",i<0)),u})},e.endsWith=function(e,n){var t=e.lastIndexOf(n);return t>=0&&t==e.length-n.length},e.initialize=function(e,n){if(e<0)throw"String length must be non-negative";for(var t=new Array(e),r=0;r<e;r++)t[r]=n(r);return t.join("")},e.isNullOrEmpty=function(e){return"string"!=typeof e||0==e.length},e.isNullOrWhiteSpace=function(e){return"string"!=typeof e||/^\s*$/.test(e)},e.join=function(e,n){return n="string"==typeof n?d.getRestParams(arguments,1):n,(Array.isArray(n)?n:Array.from(n)).join(e)},e.newGuid=function(){for(var e="",n=0;n<32;n++){var t=16*Math.random()|0;8!==n&&12!==n&&16!==n&&20!==n||(e+="-"),e+=(12===n?4:16===n?3&t|8:t).toString(16)}return e},e.padLeft=function(e,n,t,r){t=t||" ",e=String(e),n-=e.length;for(var i=-1;++i<n;)e=r?e+t:t+e;return e},e.padRight=function(n,t,r){return e.padLeft(n,t,r,!0)},e.replace=function(e,n,t){return e.replace(new RegExp(b.escape(n),"g"),t)},e.replicate=function(n,t){return e.initialize(n,function(){return t})},e.split=function(e,n,t,r){if(t="number"==typeof t?t:null,r="number"==typeof r?r:null,t<0)throw"Count cannot be less than zero";if(0===t)return[];n=Array.isArray(n)?n:d.getRestParams(arguments,1),n=n.map(function(e){return b.escape(e)}),n=n.length>0?n:[" "];for(var i=void 0,o=0,u=[],a=new RegExp(n.join("|"),"g");(null==t||t>1)&&null!==(i=a.exec(e));)(!r||i.index-o>0)&&(t=null!=t?t-1:t,u.push(e.substring(o,i.index))),o=a.lastIndex;return(!r||e.length-o>0)&&u.push(e.substring(o)),u},e.trim=function(e,n){for(var t=arguments.length,r=Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];if("both"==n&&0==r.length)return e.trim();if("start"==n||"both"==n){var o=0==r.length?/^\s+/:new RegExp("^["+b.escape(r.join(""))+"]+");e=e.replace(o,"")}if("end"==n||"both"==n){var u=0==r.length?/\s+$/:new RegExp("["+b.escape(r.join(""))+"]+$");e=e.replace(u,"")}return e},e}();S.fsFormatRegExp=/(^|[^%])%([0+ ]*)(-?\d+)?(?:\.(\d+))?(\w)/,S.formatRegExp=/\{(\d+)(,-?\d+)?(?:\:(.+?))?\}/g,S.concat=S.join,e.String=S;var b=function(){function e(){i(this,e)}return e.create=function(e,n){var t="g";return t+=1&n?"i":"",t+=2&n?"m":"",new RegExp(e,t)},e.escape=function(e){return e.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},e.unescape=function(e){return e.replace(/\\([\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|])/g,"$1")},e.isMatch=function(n,t){var r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=n instanceof RegExp?(i=n,n=t,i.lastIndex=r,i):i=e.create(t,r);return i.test(n)},e.match=function(n,t){var r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=n instanceof RegExp?(i=n,n=t,i.lastIndex=r,i):i=e.create(t,r);return i.exec(n)},e.matches=function n(t,r){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],o=t instanceof RegExp?(o=t,t=r,o.lastIndex=i,o):o=e.create(r,i);if(!o.global)throw"Non-global RegExp";for(var u=void 0,n=[];null!==(u=o.exec(t));)n.push(u);return n},e.options=function e(n){var e=256;return e|=n.ignoreCase?1:0,e|=n.multiline?2:0},e.replace=function(n,t,r,i){function o(){var e=arguments[0];if(0!==i){i--;for(var n=[],t=arguments.length,o=0;o<t-2;o++)n.push(arguments[o]);n.index=arguments[t-2],n.input=arguments[t-1],e=r(n)}return e}var u=arguments.length<=4||void 0===arguments[4]?0:arguments[4];if("string"==typeof n){var a=n;n=e.create(t,i),t=a,i=void 0}if("function"==typeof r)return i=null==i?-1:i,t.substring(0,u)+t.substring(u).replace(n,o);if(null!=i){var s=void 0,c=t.substring(u),l=e.matches(n,c),f=l.length>i?(s=l[i-1],c.substring(0,s.index+s[0].length)):c;return t.substring(0,u)+f.replace(n,r)+t.substring(u+f.length)}return t.replace(n,r)},e.split=function(n,t,r){var i=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if("string"==typeof n){var o=n;n=e.create(t,r),t=o,r=void 0}return t=t.substring(i),t.split(n,r)},e}();e.RegExp=b;var g=function(){function e(){i(this,e)}return e.addRangeInPlace=function(e,n){w.iterate(function(e){return n.push(e)},e)},e.copyTo=function(e,n,t,r,i){for(;i--;)t[r++]=e[n++]},e.partition=function(e,n){for(var t=[],r=[],i=0,u=0,a=0;a<n.length;a++)e(n[a])?t[i++]=n[a]:r[u++]=n[a];return o(t,r)},e.permute=function(e,n){for(var t=n.map(function(){return null}),r=new Array(n.length),i=0;i<n.length;i++){var o=e(i);if(o<0||o>=n.length)throw"Not a valid permutation";t[o]=n[i],r[o]=1}for(var u=0;u<n.length;u++)if(1!=r[u])throw"Not a valid permutation";return t},e.removeInPlace=function(e,n){var t=n.indexOf(e);return t>-1&&(n.splice(t,1),!0)},e.setSlice=function(e,n,t,r){var i=(t||e.length-1)-n;if(ArrayBuffer.isView(e)&&r.length<=i)e.set(r,n);else for(var o=0|n,u=0;u<=i;o++,u++)e[o]=r[u]},e.sortInPlaceBy=function(e,n){var t=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return n.sort(function(n,r){return n=e(n),r=e(r),(n<r?-1:n==r?0:1)*t})},e.unzip=function(e){for(var n=new Array(e.length),t=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r][0],t[r]=e[r][1];return o(n,t)},e.unzip3=function(e){for(var n=new Array(e.length),t=new Array(e.length),r=new Array(e.length),i=0;i<e.length;i++)n[i]=e[i][0],t[i]=e[i][1],r[i]=e[i][2];return u(n,t,r)},e}();e.Array=g;var C=e.List=function(){function e(n,t){i(this,e),this.head=n,this.tail=t}return e.prototype.ToString=function(){return"["+Array.from(this).map(d.toString).join("; ")+"]"},e.prototype.Equals=function(e){for(var n=this[Symbol.iterator](),t=e[Symbol.iterator](),r=0;;r++){var i=n.next(),o=t.next();if(i.done)return!!o.done;if(o.done)return!1;if(!d.equals(i.value,o.value))return!1}},e.prototype.CompareTo=function(e){for(var n=0,t=this[Symbol.iterator](),r=e[Symbol.iterator](),i=0;;i++){var o=t.next(),u=r.next();if(o.done)return u.done?n:-1;if(u.done)return 1;if(n=d.compare(o.value,u.value),0!=n)return n}},e.ofArray=function(n,t){for(var r=t||new e,i=n.length-1;i>=0;i--)r=new e(n[i],r);return r},e.prototype[Symbol.iterator]=function(){var e=this;return{next:function(){var n=e;return e=e.tail,{done:null==n.tail,value:n.head}}}},e.prototype.append=function(n){return e.append(this,n)},e.append=function(n,t){return w.fold(function(n,t){return new e(t,n)},t,e.reverse(n))},e.prototype.choose=function(n,t){return e.choose(n,this)},e.choose=function(n,t){var r=w.fold(function(t,r){var i=n(r);return null!=i?new e(i,t):t},new e,t);return e.reverse(r)},e.prototype.collect=function(n){return e.collect(n,this)},e.collect=function(n,t){return w.fold(function(e,t){return e.append(n(t))},new e,t)},e.concat=function(n){return e.collect(function(e){return e},n)},e.prototype.filter=function(n){return e.filter(n,this)},e.filter=function(n,t){return e.reverse(w.fold(function(t,r){return n(r)?new e(r,t):t},new e,t))},e.prototype.where=function(n){return e.filter(n,this)},e.where=function(n,t){return e.filter(n,t)},e.initialize=function(n,t){if(n<0)throw"List length must be non-negative";for(var r=new e,i=1;i<=n;i++)r=new e(t(n-i),r);return r},e.prototype.map=function(n){return e.map(n,this)},e.map=function(n,t){return e.reverse(w.fold(function(t,r){return new e(n(r),t)},new e,t))},e.prototype.mapIndexed=function(n){return e.mapIndexed(n,this)},e.mapIndexed=function(n,t){return e.reverse(w.fold(function(t,r,i){return new e(n(i,r),t)},new e,t))},e.prototype.partition=function(n){return e.partition(n,this)},e.partition=function(n,t){return w.fold(function(t,r){var i=t[0],u=t[1];return n(r)?o(new e(r,i),u):o(i,new e(r,u))},o(new e,new e),e.reverse(t))},e.replicate=function(n,t){return e.initialize(n,function(){return t})},e.prototype.reverse=function(){return e.reverse(this)},e.reverse=function(n){return w.fold(function(n,t){return new e(t,n)},new e,n)},e.singleton=function(n){return new e(n,new e)},e.prototype.slice=function(n,t){return e.slice(n,t,this)},e.slice=function(n,t,r){var i=null==n,o=null==t;return e.reverse(w.fold(function(r,u,a){return(i||n<=a)&&(o||a<=t)?new e(u,r):r},new e,r))},e.unzip=function(n){return w.foldBack(function(n,t){return o(new e(n[0],t[0]),new e(n[1],t[1]))},n,o(new e,new e))},e.unzip3=function(n){return w.foldBack(function(n,t){return u(new e(n[0],t[0]),new e(n[1],t[1]),new e(n[2],t[2]))},n,u(new e,new e,new e))},s(e,[{key:"length",get:function(){return w.fold(function(e,n){return e+1},0,this)}}]),e}();d.setInterfaces(C.prototype,["System.IEquatable","System.IComparable"],"Microsoft.FSharp.Collections.FSharpList");var w=e.Seq=function(){function e(){i(this,e)}return e.__failIfNone=function(e){if(null==e)throw"Seq did not contain any matching element";return e},e.toList=function(n){return e.foldBack(function(e,n){return new C(e,n)},n,new C)},e.ofList=function(n){return e.delay(function(){return e.unfold(function(e){return null!=e.tail?[e.head,e.tail]:null},n)})},e.ofArray=function(n){return e.delay(function(){return e.unfold(function(e){return e<n.length?[n[e],e+1]:null},0)})},e.append=function(n,t){return e.delay(function(){var r=!1,i=n[Symbol.iterator](),u=o(i,null);return e.unfold(function(){var e=void 0;if(!r){if(e=u[0].next(),!e.done)return[e.value,u];r=!0,u=[null,t[Symbol.iterator]()]}return e=u[1].next(),e.done?null:[e.value,u]},u)})},e.average=function(n){var t=1,r=e.reduce(function(e,n){return t++,e+n},n);return r/t},e.averageBy=function(n,t){var r=1,i=e.reduce(function(e,t){return r++,(2===r?n(e):e)+n(t)},t);return i/r},e.countBy=function(n,t){return e.map(function(n){return o(n[0],e.count(n[1]))},e.groupBy(n,t))},e.concat=function(n){return e.delay(function(){var t=n[Symbol.iterator](),r=null;return e.unfold(function(e){for(var n=!1;!n;)if(null==e){var i=t.next();i.done?n=!0:e=i.value[Symbol.iterator]()}else{var o=e.next();o.done?e=null:(r=o.value,n=!0)}return null!=e&&null!=r?[r,e]:null},null)})},e.collect=function(n,t){return e.concat(e.map(n,t))},e.choose=function(n,t){var r=function e(t){var r=t.next();if(!r.done){var i=n(r.value);return null!=i?o(i,t):e(t)}};return e.delay(function(){return e.unfold(function(e){return r(e)},t[Symbol.iterator]())})},e.compareWith=function(n,t,r){var i=e.tryFind(function(e){return 0!=e},e.map2(function(e,t){return n(e,t)},t,r));return null!=i?i:e.count(t)-e.count(r)},e.delay=function(e){return n({},Symbol.iterator,function(){return e()[Symbol.iterator]()})},e.distinctBy=function(n,t){return e.choose(function(e){return e[0]},e.scan(function(e,t){var r=e[1],i=n(t);return r.has(i)?o(null,r):o(t,r.add(i))},o(null,new Set),t))},e.distinct=function(n){return e.distinctBy(function(e){return e},n)},e.empty=function(){return e.unfold(function(){})},e.enumerateWhile=function(n,t){return e.concat(e.unfold(function(){return n()?[t,!0]:null}))},e.enumerateThenFinally=function(n,t){return e.delay(function(){var r=void 0;try{r=n[Symbol.iterator]()}finally{t()}return e.unfold(function(e){try{var n=e.next();return n.done?null:[n.value,e]}finally{t()}},r)})},e.enumerateUsing=function(n,t){var r=!1,i=function(){r||(r=!0,n.Dispose())};try{return e.enumerateThenFinally(t(n),i)}finally{i()}},e.exactlyOne=function(e){var n=e[Symbol.iterator](),t=n.next();if(t.done)throw"Seq was empty";var r=n.next();if(!r.done)throw"Seq had multiple items";return t.value},e.exists=function(e,n){function t(n){var r=n.next();return!r.done&&(e(r.value)||t(n))}return t(n[Symbol.iterator]())},e.exists2=function(e,n,t){function r(n,t){var i=n.next(),o=t.next();return!i.done&&!o.done&&(e(i.value,o.value)||r(n,t))}return r(n[Symbol.iterator](),t[Symbol.iterator]())},e.filter=function(n,t){function r(e){var t=e.next();if(!t.done)return n(t.value)?[t.value,e]:r(e)}return e.delay(function(){return e.unfold(r,t[Symbol.iterator]())})},e.where=function(n,t){return e.filter(n,t)},e.fold=function(e,n,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e,n);for(var r=void 0,i=0,o=t[Symbol.iterator]();r=o.next(),!r.done;i++)n=e(n,r.value,i);return n},e.foldBack=function(e,n,t){for(var r=Array.isArray(n)||ArrayBuffer.isView(n)?n:Array.from(n),i=r.length-1;i>=0;i--)t=e(r[i],t,i);return t},e.fold2=function(e,n,t,r){for(var i=t[Symbol.iterator](),o=r[Symbol.iterator](),u=void 0,a=void 0,s=0;u=i.next(),a=o.next(),!u.done&&!a.done;s++)n=e(n,u.value,a.value,s);return n},e.foldBack2=function(e,n,t,r){for(var i=Array.isArray(n)||ArrayBuffer.isView(n)?n:Array.from(n),o=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t),u=i.length-1;u>=0;u--)r=e(i[u],o[u],r,u);return r},e.forAll=function(n,t){return e.fold(function(e,t){return e&&n(t)},!0,t)},e.forAll2=function(n,t,r){return e.fold2(function(e,t,r){return e&&n(t,r)},!0,t,r)},e.groupBy=function(n,t){return e.fold(function(e,t){var r=n(t),i=e.get(r);return null!=i?e.set(r,new C(t,i)):e.set(r,C.singleton(t))},new Map,t)},e.tryHead=function(e){var n=e[Symbol.iterator](),t=n.next();return t.done?null:t.value},e.head=function(n){return e.__failIfNone(e.tryHead(n))},e.initialize=function(n,t){return e.delay(function(){return e.unfold(function(e){return e<n?[t(e),e+1]:null},0)})},e.initializeInfinite=function(n){return e.delay(function(){return e.unfold(function(e){return[n(e),e+1]},0)})},e.tryItem=function(e,n){if(e<0)return null;if(Array.isArray(n)||ArrayBuffer.isView(n))return e<n.length?n[e]:null;for(var t=0,r=n[Symbol.iterator]();;t++){var i=r.next();if(i.done)return null;if(t===e)return i.value}},e.item=function(n,t){return e.__failIfNone(e.tryItem(n,t))},e.iterate=function(n,t){e.fold(function(e,t){return n(t)},null,t)},e.iterate2=function(n,t,r){e.fold2(function(e,t,r){return n(t,r)},null,t,r)},e.iterateIndexed=function(n,t){e.fold(function(e,t,r){return n(r,t)},null,t)},e.iterateIndexed2=function(n,t,r){e.fold2(function(e,t,r,i){return n(i,t,r)},null,t,r)},e.isEmpty=function(e){var n=e[Symbol.iterator]();return n.next().done},e.tryLast=function(n){try{return e.reduce(function(e,n){return n},n)}catch(e){return null}},e.last=function(n){return e.__failIfNone(e.tryLast(n))},e.count=function(n){return Array.isArray(n)||ArrayBuffer.isView(n)?n.length:e.fold(function(e,n){return e+1},0,n)},e.map=function(n,t){return e.delay(function(){return e.unfold(function(e){var t=e.next();return t.done?null:[n(t.value),e]},t[Symbol.iterator]())})},e.mapIndexed=function(n,t){return e.delay(function(){var r=0;return e.unfold(function(e){var t=e.next();return t.done?null:[n(r++,t.value),e]},t[Symbol.iterator]())})},e.map2=function(n,t,r){return e.delay(function(){var i=t[Symbol.iterator](),o=r[Symbol.iterator]();return e.unfold(function(){var e=i.next(),t=o.next();return e.done||t.done?null:[n(e.value,t.value),null]})})},e.mapIndexed2=function(n,t,r){return e.delay(function(){var i=0,o=t[Symbol.iterator](),u=r[Symbol.iterator]();return e.unfold(function(){var e=o.next(),t=u.next();return e.done||t.done?null:[n(i++,e.value,t.value),null]})})},e.map3=function(n,t,r,i){return e.delay(function(){var o=t[Symbol.iterator](),u=r[Symbol.iterator](),a=i[Symbol.iterator]();return e.unfold(function(){var e=o.next(),t=u.next(),r=a.next();return e.done||t.done||r.done?null:[n(e.value,t.value,r.value),null]})})},e.mapFold=function(e,n,t){for(var r=[],i=void 0,u=void 0,s=0,c=t[Symbol.iterator]();u=c.next(),!u.done;s++){var l=e(n,u.value),f=a(l,2);i=f[0],n=f[1],r.push(i)}return o(r,n)},e.mapFoldBack=function(e,n,t){for(var r=Array.isArray(n)||ArrayBuffer.isView(n)?n:Array.from(n),i=[],u=void 0,s=r.length-1;s>=0;s--){var c=e(r[s],t),l=a(c,2);u=l[0],t=l[1],i.push(u)}return o(i,t)},e.max=function(n){return e.reduce(function(e,n){return 1===d.compare(e,n)?e:n},n)},e.maxBy=function(n,t){return e.reduce(function(e,t){return 1===d.compare(n(e),n(t))?e:t},t)},e.min=function(n){return e.reduce(function(e,n){return d.compare(e,n)===-1?e:n},n)},e.minBy=function(n,t){return e.reduce(function(e,t){return d.compare(n(e),n(t))===-1?e:t},t)},e.pairwise=function(n){return e.skip(1,e.scan(function(e,n){return o(e[1],n)},o(0,0),n))},e.permute=function(n,t){return e.ofArray(g.permute(n,Array.from(t)))},e.rangeStep=function(n,t,r){if(0===t)throw"Step cannot be 0";return e.unfold(function(e){return t>0&&e<=r||t<0&&e>=r?[e,e+t]:null},n)},e.rangeChar=function(n,t){return e.unfold(function(e){return e<=t?[e,String.fromCharCode(e.charCodeAt(0)+1)]:null},n)},e.range=function(n,t){return e.rangeStep(n,1,t)},e.readOnly=function(n){return e.map(function(e){return e},n)},e.reduce=function(e,n){
if(Array.isArray(n)||ArrayBuffer.isView(n))return n.reduce(e);var t=n[Symbol.iterator](),r=t.next();if(r.done)throw"Seq was empty";for(var i=r.value;r=t.next(),!r.done;)i=e(i,r.value);return i},e.reduceBack=function(e,n){var t=Array.isArray(n)||ArrayBuffer.isView(n)?n:Array.from(n);if(0===t.length)throw"Seq was empty";for(var r=t[t.length-1],i=t.length-2;i>=0;i--)r=e(t[i],r,i);return r},e.replicate=function(n,t){return e.initialize(n,function(){return t})},e.reverse=function(n){var t=Array.isArray(n)||ArrayBuffer.isView(n)?n.slice(0):Array.from(n);return e.ofArray(t.reverse())},e.scan=function(n,t,r){return e.delay(function(){var i=r[Symbol.iterator]();return e.unfold(function(e){if(null==e)return[t,t];var r=i.next();return r.done?void 0:(e=n(e,r.value),[e,e])},null)})},e.scanBack=function(n,t,r){return e.reverse(e.scan(function(e,t){return n(t,e)},r,e.reverse(t)))},e.singleton=function(n){return e.unfold(function(e){return null!=e?[e,null]:null},n)},e.skip=function(e,t){return n({},Symbol.iterator,function(){for(var n=t[Symbol.iterator](),r=1;r<=e;r++)if(n.next().done)throw"Seq has not enough elements";return n})},e.skipWhile=function(n,t){return e.delay(function(){var r=!1;return e.filter(function(e){return r||(r=!n(e))},t)})},e.sortWith=function(n,t){var r=Array.from(t);return e.ofArray(r.sort(n))},e.sum=function(n){return e.fold(function(e,n){return e+n},0,n)},e.sumBy=function(n,t){return e.fold(function(e,t){return e+n(t)},0,t)},e.tail=function(e){var t=e[Symbol.iterator](),r=t.next();if(r.done)throw"Seq was empty";return n({},Symbol.iterator,function(){return t})},e.take=function(n,t){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return e.delay(function(){var i=t[Symbol.iterator]();return e.unfold(function(e){if(e<n){var t=i.next();if(!t.done)return[t.value,e+1];if(!r)throw"Seq has not enough elements"}},0)})},e.truncate=function(n,t){return e.take(n,t,!0)},e.takeWhile=function(n,t){return e.delay(function(){var r=t[Symbol.iterator]();return e.unfold(function(e){var t=r.next();if(!t.done&&n(t.value))return[t.value,null]},0)})},e.tryFind=function(e,n){for(var t=0,r=n[Symbol.iterator]();;t++){var i=r.next();if(i.done)return null;if(e(i.value,t))return i.value}},e.find=function(n,t){return e.__failIfNone(e.tryFind(n,t))},e.tryFindBack=function(e,n){for(var t=null,r=0,i=n[Symbol.iterator]();;r++){var o=i.next();if(o.done)return t;e(o.value,r)&&(t=o.value)}},e.findBack=function(n,t){return e.__failIfNone(e.tryFindBack(n,t))},e.tryFindIndex=function(e,n){for(var t=0,r=n[Symbol.iterator]();;t++){var i=r.next();if(i.done)return null;if(e(i.value,t))return t}},e.findIndex=function(n,t){return e.__failIfNone(e.tryFindIndex(n,t))},e.tryFindIndexBack=function(e,n){for(var t=0,r=0,i=n[Symbol.iterator]();;r++){var o=i.next();if(o.done)return t;e(o.value,r)&&(t=r)}},e.findIndexBack=function(n,t){return e.__failIfNone(e.tryFindIndexBack(n,t))},e.tryPick=function(e,n){for(var t=0,r=n[Symbol.iterator]();;t++){var i=r.next();if(i.done)break;var o=e(i.value,t);if(null!=o)return o}},e.pick=function(n,t){return e.__failIfNone(e.tryPick(n,t))},e.unfold=function(e,t){return n({},Symbol.iterator,function(){return{next:function(){var n=e(t);return null!=n?(t=n[1],{done:!1,value:n[0]}):{done:!0}}}})},e.zip=function(n,t){return e.map2(function(e,n){return[e,n]},n,t)},e.zip3=function(n,t,r){return e.map3(function(e,n,t){return[e,n,t]},n,t,r)},e}(),x=function(){function e(n,t){i(this,e),this.Case=n,this.Fields=t}return e.countAux=function(n,t){return"SetOne"===n.Case?t+1:"SetEmpty"===n.Case?t:e.countAux(n.Fields[1],e.countAux(n.Fields[2],t+1))},e.count=function(n){return e.countAux(n,0)},e.SetOne=function(n){return new e("SetOne",[n])},e.SetNode=function(n,t,r,i){return new e("SetNode",[n,t,r,i])},e.height=function(e){return"SetOne"===e.Case?1:"SetNode"===e.Case?e.Fields[3]:0},e.mk=function(n,t,r){var i=[n,r],o=function(){var i=e.height(n),o=e.height(r),u=i<o?o:i;return e.SetNode(t,n,r,u+1)};return"SetEmpty"===i[0].Case&&"SetEmpty"===i[1].Case?e.SetOne(t):o()},e.rebalance=function(n,t,r){var i=e.height(n),o=e.height(r);if(o>i+e.tolerance){if("SetNode"===r.Case){if(e.height(r.Fields[1])>i+1){if("SetNode"===r.Fields[1].Case)return e.mk(e.mk(n,t,r.Fields[1].Fields[1]),r.Fields[1].Fields[0],e.mk(r.Fields[1].Fields[2],r.Fields[0],r.Fields[2]));throw"rebalance"}return e.mk(e.mk(n,t,r.Fields[1]),r.Fields[0],r.Fields[2])}throw"rebalance"}if(i>o+e.tolerance){if("SetNode"===n.Case){if(e.height(n.Fields[2])>o+1){if("SetNode"===n.Fields[2].Case)return e.mk(e.mk(n.Fields[1],n.Fields[0],n.Fields[2].Fields[1]),n.Fields[2].Fields[0],e.mk(n.Fields[2].Fields[2],t,r));throw"rebalance"}return e.mk(n.Fields[1],n.Fields[0],e.mk(n.Fields[2],t,r))}throw"rebalance"}return e.mk(n,t,r)},e.add=function(n,t,r){return"SetOne"===r.Case?function(){var i=n.Compare(t,r.Fields[0]);return i<0?e.SetNode(t,new e("SetEmpty",[]),r,2):0===i?r:e.SetNode(t,r,new e("SetEmpty",[]),2)}():"SetEmpty"===r.Case?e.SetOne(t):function(){var i=n.Compare(t,r.Fields[0]);return i<0?e.rebalance(e.add(n,t,r.Fields[1]),r.Fields[0],r.Fields[2]):0===i?r:e.rebalance(r.Fields[1],r.Fields[0],e.add(n,t,r.Fields[2]))}()},e.balance=function(n,t,r,i){var o=[t,i],u=function(t){return e.add(n,r,t)},a=function(t,i){return e.add(n,r,e.add(n,t,i))};if("SetOne"===o[0].Case)return"SetEmpty"===o[1].Case?u(o[0]):"SetOne"===o[1].Case?a(o[0].Fields[0],o[1]):a(o[0].Fields[0],o[1]);if("SetNode"===o[0].Case){if("SetOne"===o[1].Case){var s=o[1].Fields[0],c=o[0];return e.add(n,r,e.add(n,s,c))}if("SetNode"===o[1].Case){var l=o[0].Fields[3],f=o[1].Fields[3],d=o[0].Fields[0],s=o[1].Fields[0],p=o[0].Fields[1],m=o[0].Fields[2],y=o[1].Fields[1],h=o[1].Fields[2];return l+e.tolerance<f?e.rebalance(e.balance(n,t,r,y),s,h):f+e.tolerance<l?e.rebalance(p,d,e.balance(n,m,r,i)):e.mk(t,r,i)}return u(o[0])}var v=o[1];return e.add(n,r,v)},e.split=function(n,t,r){return"SetOne"===r.Case?function(){var i=n.Compare(r.Fields[0],t);return i<0?[r,!1,new e("SetEmpty",[])]:0===i?[new e("SetEmpty",[]),!0,new e("SetEmpty",[])]:[new e("SetEmpty",[]),!1,r]}():"SetEmpty"===r.Case?[new e("SetEmpty",[]),!1,new e("SetEmpty",[])]:function(){var i=n.Compare(t,r.Fields[0]);if(i<0){var o=e.split(n,t,r.Fields[1]),u=o[0],a=o[2],s=o[1];return[u,s,e.balance(n,a,r.Fields[0],r.Fields[2])]}if(0===i)return[r.Fields[1],!0,r.Fields[2]];var o=e.split(n,t,r.Fields[2]),c=o[0],l=o[2],s=o[1];return[e.balance(n,r.Fields[1],r.Fields[0],c),s,l]}()},e.spliceOutSuccessor=function(n){return"SetOne"===n.Case?[n.Fields[0],new e("SetEmpty",[])]:"SetNode"===n.Case?"SetEmpty"===n.Fields[1].Case?[n.Fields[0],n.Fields[2]]:function(){var t=e.spliceOutSuccessor(n.Fields[1]),r=t[1],i=t[0];return[i,e.mk(r,n.Fields[0],n.Fields[2])]}():function(){throw"internal error: Map.spliceOutSuccessor"}()},e.remove=function(n,t,r){return"SetOne"===r.Case?function(){var i=n.Compare(t,r.Fields[0]);return 0===i?new e("SetEmpty",[]):r}():"SetNode"===r.Case?function(){var i=n.Compare(t,r.Fields[0]);if(i<0)return e.rebalance(e.remove(n,t,r.Fields[1]),r.Fields[0],r.Fields[2]);if(0===i){var o=[r.Fields[1],r.Fields[2]];if("SetEmpty"===o[0].Case)return r.Fields[2];if("SetEmpty"===o[1].Case)return r.Fields[1];var u=e.spliceOutSuccessor(r.Fields[2]),a=u[0],s=u[1];return e.mk(r.Fields[1],a,s)}return e.rebalance(r.Fields[1],r.Fields[0],e.remove(n,t,r.Fields[2]))}():r},e.mem=function(n,t,r){return"SetOne"===r.Case?0===n.Compare(t,r.Fields[0]):"SetEmpty"!==r.Case&&function(){var i=n.Compare(t,r.Fields[0]);return i<0?e.mem(n,t,r.Fields[1]):0===i||e.mem(n,t,r.Fields[2])}()},e.iter=function(n,t){"SetOne"===t.Case?n(t.Fields[0]):"SetEmpty"===t.Case||(e.iter(n,t.Fields[1]),n(t.Fields[0]),e.iter(n,t.Fields[2]))},e.foldBack=function(n,t,r){return"SetOne"===t.Case?n(t.Fields[0],r):"SetEmpty"===t.Case?r:e.foldBack(n,t.Fields[1],n(t.Fields[0],e.foldBack(n,t.Fields[2],r)))},e.fold=function(n,t,r){return"SetOne"===r.Case?n(t,r.Fields[0]):"SetEmpty"===r.Case?t:function(){var i=e.fold(n,t,r.Fields[1]),o=n(i,r.Fields[0]);return e.fold(n,o,r.Fields[2])}()},e.forall=function(n,t){return"SetOne"===t.Case?n(t.Fields[0]):"SetEmpty"===t.Case||!(!n(t.Fields[0])||!e.forall(n,t.Fields[1]))&&e.forall(n,t.Fields[2])},e.exists=function(n,t){return"SetOne"===t.Case?n(t.Fields[0]):"SetEmpty"!==t.Case&&(!(!n(t.Fields[0])&&!e.exists(n,t.Fields[1]))||e.exists(n,t.Fields[2]))},e.isEmpty=function(e){return"SetEmpty"===e.Case},e.subset=function(n,t,r){return e.forall(function(t){return e.mem(n,t,r)},t)},e.psubset=function(n,t,r){return!!e.forall(function(t){return e.mem(n,t,r)},t)&&e.exists(function(r){return!e.mem(n,r,t)},r)},e.filterAux=function(n,t,r,i){return"SetOne"===r.Case?t(r.Fields[0])?e.add(n,r.Fields[0],i):i:"SetEmpty"===r.Case?i:function(){var o=t(r.Fields[0])?e.add(n,r.Fields[0],i):i;return e.filterAux(n,t,r.Fields[1],e.filterAux(n,t,r.Fields[2],o))}()},e.filter=function(n,t,r){return e.filterAux(n,t,r,new e("SetEmpty",[]))},e.diffAux=function(n,t,r){return"SetOne"===t.Case?e.remove(n,t.Fields[0],r):"SetEmpty"===t.Case?r:e.diffAux(n,t.Fields[1],e.diffAux(n,t.Fields[2],e.remove(n,t.Fields[0],r)))},e.diff=function(n,t,r){return e.diffAux(n,r,t)},e.union=function(n,t,r){var i=[t,r],o=function(e){return e},u=function(t,r){return e.add(n,t,r)};if("SetEmpty"===i[0].Case){var a=i[1];return a}if("SetOne"===i[0].Case)return"SetEmpty"===i[1].Case?o(i[0]):"SetOne"===i[1].Case?u(i[0].Fields[0],i[1]):u(i[0].Fields[0],i[1]);if("SetEmpty"===i[1].Case)return o(i[0]);if("SetOne"===i[1].Case){var s=i[1].Fields[0],c=i[0];return e.add(n,s,c)}var l=i[0].Fields[3],f=i[1].Fields[3],d=i[0].Fields[0],s=i[1].Fields[0],p=i[0].Fields[1],m=i[0].Fields[2],y=i[1].Fields[1],h=i[1].Fields[2];if(l>f){var v=e.split(n,d,r),F=v[0],S=v[2];return e.balance(n,e.union(n,p,F),d,e.union(n,m,S))}var v=e.split(n,s,t),F=v[0],S=v[2];return e.balance(n,e.union(n,y,F),s,e.union(n,h,S))},e.intersectionAux=function(n,t,r,i){return"SetOne"===r.Case?e.mem(n,r.Fields[0],t)?e.add(n,r.Fields[0],i):i:"SetEmpty"===r.Case?i:function(){var o=e.intersectionAux(n,t,r.Fields[2],i),u=e.mem(n,r.Fields[0],t)?e.add(n,r.Fields[0],o):o;return e.intersectionAux(n,t,r.Fields[1],u)}()},e.intersection=function(n,t,r){return e.intersectionAux(n,r,t,new e("SetEmpty",[]))},e.partition1=function(n,t,r,i,o){return t(r)?[e.add(n,r,i),o]:[i,e.add(n,r,o)]},e.partitionAux=function(n,t,r,i,o){var u=[i,o];if("SetOne"===r.Case){var a=u[0],s=u[1];return e.partition1(n,t,r.Fields[0],a,s)}if("SetEmpty"===r.Case)return u;var c=function(){var i=u[0],o=u[1];return e.partitionAux(n,t,r.Fields[2],i,o)}(),l=function(){var i=c[0],o=c[1];return e.partition1(n,t,r.Fields[0],i,o)}(),f=l[0],d=l[1];return e.partitionAux(n,t,r.Fields[1],f,d)},e.partition=function(n,t,r){var i=[new e("SetEmpty",[]),new e("SetEmpty",[])],o=i[0],u=i[1];return e.partitionAux(n,t,r,o,u)},e.minimumElementAux=function(n,t){return"SetOne"===n.Case?n.Fields[0]:"SetEmpty"===n.Case?t:e.minimumElementAux(n.Fields[1],n.Fields[0])},e.minimumElementOpt=function(n){return"SetOne"===n.Case?n.Fields[0]:"SetEmpty"===n.Case?null:e.minimumElementAux(n.Fields[1],n.Fields[0])},e.maximumElementAux=function(n,t){return"SetOne"===n.Case?n.Fields[0]:"SetEmpty"===n.Case?t:e.maximumElementAux(n.Fields[2],n.Fields[0])},e.maximumElementOpt=function(n){return"SetOne"===n.Case?n.Fields[0]:"SetEmpty"===n.Case?null:e.maximumElementAux(n.Fields[2],n.Fields[0])},e.minimumElement=function(n){var t=e.minimumElementOpt(n);if(null==t)throw"Set contains no elements";return t},e.maximumElement=function(n){var t=e.maximumElementOpt(n);if(null==t)throw"Set contains no elements";return t},e.collapseLHS=function(n){return null!=n.tail?"SetOne"===n.head.Case?n:"SetNode"===n.head.Case?e.collapseLHS(C.ofArray([n.head.Fields[1],e.SetOne(n.head.Fields[0]),n.head.Fields[2]],n.tail)):e.collapseLHS(n.tail):new C},e.mkIterator=function(n){return{stack:e.collapseLHS(new C(n,new C)),started:!1}},e.moveNext=function(n){function t(e){if(null==e.stack.tail)return null;if("SetOne"===e.stack.head.Case)return e.stack.head.Fields[0];throw"Please report error: Set iterator, unexpected stack for current"}if(n.started){if(null==n.stack.tail)return{done:!0};if("SetOne"===n.stack.head.Case)return n.stack=e.collapseLHS(n.stack.tail),{done:null==n.stack.tail,value:t(n)};throw"Please report error: Set iterator, unexpected stack for moveNext"}return n.started=!0,{done:null==n.stack.tail,value:t(n)}},e.compareStacks=function(n,t,r){var i=function(t,i){return e.compareStacks(n,C.ofArray([new e("SetEmpty",[]),e.SetOne(t)],i),r)},o=function(t,i,o,u){return e.compareStacks(n,C.ofArray([i,e.SetNode(t,new e("SetEmpty",[]),o,0)],u),r)},u=function(r,i,o,u){return e.compareStacks(n,t,C.ofArray([i,e.SetNode(r,new e("SetEmpty",[]),o,0)],u))};if(null!=t.tail){if(null!=r.tail){if("SetOne"===r.head.Case){if("SetOne"===t.head.Case){var a=t.head.Fields[0],s=r.head.Fields[0],c=t.tail,l=r.tail,f=n.Compare(a,s);return 0!==f?f:e.compareStacks(n,c,l)}if("SetNode"===t.head.Case){if("SetEmpty"===t.head.Fields[1].Case){var d=t.head.Fields[1],p=t.head.Fields[0],m=t.head.Fields[2],y=r.head.Fields[0],h=t.tail,v=r.tail,F=n.Compare(p,y);return 0!==F?F:e.compareStacks(n,C.ofArray([m],h),C.ofArray([d],v))}return o(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail)}var S=r.head.Fields[0],b=r.tail;return e.compareStacks(n,t,C.ofArray([new e("SetEmpty",[]),e.SetOne(S)],b))}if("SetNode"===r.head.Case){if("SetEmpty"===r.head.Fields[1].Case){if("SetOne"===t.head.Case){var g=t.head.Fields[0],w=r.head.Fields[0],x=r.head.Fields[2],O=t.tail,k=r.tail,E=n.Compare(g,w);return 0!==E?E:e.compareStacks(n,C.ofArray([new e("SetEmpty",[])],O),C.ofArray([x],k))}if("SetNode"===t.head.Case){if("SetEmpty"===t.head.Fields[1].Case){var A=t.head.Fields[0],_=t.head.Fields[2],N=r.head.Fields[0],M=r.head.Fields[2],I=t.tail,T=r.tail,B=n.Compare(A,N);return 0!==B?B:e.compareStacks(n,C.ofArray([_],I),C.ofArray([M],T))}return o(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail)}return u(r.head.Fields[0],r.head.Fields[1],r.head.Fields[2],r.tail)}return"SetOne"===t.head.Case?i(t.head.Fields[0],t.tail):"SetNode"===t.head.Case?o(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail):u(r.head.Fields[0],r.head.Fields[1],r.head.Fields[2],r.tail)}return"SetOne"===t.head.Case?i(t.head.Fields[0],t.tail):"SetNode"===t.head.Case?o(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail):e.compareStacks(n,t.tail,r.tail)}return 1}return null!=r.tail?-1:0},e.compare=function(n,t,r){return"SetEmpty"===t.Case?"SetEmpty"===r.Case?0:-1:"SetEmpty"===r.Case?1:e.compareStacks(n,C.ofArray([t]),C.ofArray([r]))},e.mkFromEnumerator=function(n,t,r){for(var i=r.next();!i.done;)t=e.add(n,i.value,t),i=r.next();return t},e.ofSeq=function(n,t){var r=t[Symbol.iterator]();return e.mkFromEnumerator(n,new e("SetEmpty",[]),r)},e}();x.tolerance=2;var O=function(){function e(){i(this,e)}return e.from=function(n,t){var r=new e;return r.tree=t,r.comparer=n||new p,r},e.create=function(n,t){return t=t||new p,e.from(t,n?x.ofSeq(t,n):new x("SetEmpty",[]))},e.prototype.ToString=function(){return"set ["+Array.from(this).map(d.toString).join("; ")+"]"},e.prototype.Equals=function(e){return 0===this.CompareTo(e)},e.prototype.CompareTo=function(e){return x.compare(this.comparer,this.tree,e.tree)},e.prototype[Symbol.iterator]=function(){var e=x.mkIterator(this.tree);return{next:function(){return x.moveNext(e)}}},e.prototype.values=function(){return this[Symbol.iterator]()},e.prototype.has=function(e){return x.mem(this.comparer,e,this.tree)},e.prototype.add=function(e){throw"not supported"},e.prototype.delete=function(e){throw"not supported"},e.prototype.clear=function(){throw"not supported"},e.isEmpty=function(e){return x.isEmpty(e.tree)},e.add=function(n,t){return e.from(t.comparer,x.add(t.comparer,n,t.tree))},e.remove=function(n,t){return e.from(t.comparer,x.remove(t.comparer,n,t.tree))},e.union=function(n,t){return n instanceof e&&t instanceof e?"SetEmpty"===t.tree.Case?n:"SetEmpty"===n.tree.Case?t:e.from(n.comparer,x.union(n.comparer,n.tree,t.tree)):w.fold(function(e,n){return e.add(n),e},new Set(n),t)},e.unionMany=function(n){return w.fold(function(n,t){return e.union(t,n)},e.create(),n)},e.difference=function(n,t){return n instanceof e&&t instanceof e?"SetEmpty"===n.tree.Case?n:"SetEmpty"===t.tree.Case?n:e.from(n.comparer,x.diff(n.comparer,n.tree,t.tree)):w.fold(function(e,n){return e.delete(n),e},new Set(n),t)},e.intersect=function(n,t){return n instanceof e&&t instanceof e?"SetEmpty"===t.tree.Case?t:"SetEmpty"===n.tree.Case?n:e.from(n.comparer,x.intersection(n.comparer,n.tree,t.tree)):w.fold(function(e,t){return n.has(t)||e.delete(t),e},new Set(t),t)},e.intersectMany=function(n){return w.reduce(function(n,t){return e.intersect(n,t)},n)},e.isProperSubsetOf=function(n,t){return n instanceof e&&t instanceof e?x.psubset(n.comparer,n.tree,t.tree):(t=t instanceof Set?t:new Set(t),w.forAll(function(e){return t.has(e)},n)&&w.exists(function(e){return!n.has(e)},t))},e.isSubsetOf=function(n,t){return n instanceof e&&t instanceof e?x.subset(n.comparer,n.tree,t.tree):(t=t instanceof Set?t:new Set(t),w.forAll(function(e){return t.has(e)},n))},e.isProperSupersetOf=function(n,t){return n instanceof e&&t instanceof e?x.psubset(n.comparer,t.tree,n.tree):e.isProperSubset(t instanceof Set?t:new Set(t),n)},e.isSupersetOf=function(n,t){return n instanceof e&&t instanceof e?x.subset(n.comparer,t.tree,n.tree):e.isSubset(t instanceof Set?t:new Set(t),n)},e.copyTo=function(e,n,t,r){if(!Array.isArray(n)&&!ArrayBuffer.isView(n))throw"Array is invalid";r=r||n.length;for(var i=t||0,o=e[Symbol.iterator]();r--;){var u=o.next();if(u.done)break;n[i++]=u.value}},e.partition=function(n,t){if("SetEmpty"===t.tree.Case)return[t,t];var r=x.partition(t.comparer,n,t.tree);return[e.from(t.comparer,r[0]),e.from(t.comparer,r[1])]},e.filter=function(n,t){return"SetEmpty"===t.tree.Case?t:e.from(t.comparer,x.filter(t.comparer,n,t.tree))},e.map=function(n,t){var r=new p;return e.from(r,x.fold(function(e,t){return x.add(r,n(t),e)},new x("SetEmpty",[]),t.tree))},e.exists=function(e,n){return x.exists(e,n.tree)},e.forAll=function(e,n){return x.forall(e,n.tree)},e.fold=function(e,n,t){return x.fold(e,n,t.tree)},e.foldBack=function(e,n,t){return x.foldBack(e,n.tree,t)},e.iterate=function(e,n){x.iter(e,n.tree)},e.minimumElement=function(e){return x.minimumElement(e.tree)},e.maximumElement=function(e){return x.maximumElement(e.tree)},s(e,[{key:"size",get:function(){return x.count(this.tree)}}]),e}();O.op_Addition=O.union,O.op_Subtraction=O.difference,O.isProperSubset=O.isProperSubsetOf,O.isSubset=O.isSubsetOf,O.isProperSuperset=O.isProperSupersetOf,O.isSuperset=O.isSupersetOf,O.minElement=O.minimumElement,O.maxElement=O.maximumElement,d.setInterfaces(O.prototype,["System.IEquatable","System.IComparable"],"Microsoft.FSharp.Collections.FSharpSet"),e.Set=O;var k=function(){function e(n,t){i(this,e),this.Case=n,this.Fields=t}return e.sizeAux=function(n,t){return"MapOne"===t.Case?n+1:"MapNode"===t.Case?e.sizeAux(e.sizeAux(n+1,t.Fields[2]),t.Fields[3]):n},e.size=function(n){return e.sizeAux(0,n)},e.empty=function(){return new e("MapEmpty",[])},e.height=function(e){return"MapOne"===e.Case?1:"MapNode"===e.Case?e.Fields[4]:0},e.isEmpty=function(e){return"MapEmpty"===e.Case},e.mk=function(n,t,r,i){var o=[n,i],u=function(){var o=e.height(n),u=e.height(i),a=o<u?u:o;return new e("MapNode",[t,r,n,i,a+1])};return"MapEmpty"===o[0].Case&&"MapEmpty"===o[1].Case?new e("MapOne",[t,r]):u()},e.rebalance=function(n,t,r,i){var o=e.height(n),u=e.height(i);if(u>o+2){if("MapNode"===i.Case){if(e.height(i.Fields[2])>o+1){if("MapNode"===i.Fields[2].Case)return e.mk(e.mk(n,t,r,i.Fields[2].Fields[2]),i.Fields[2].Fields[0],i.Fields[2].Fields[1],e.mk(i.Fields[2].Fields[3],i.Fields[0],i.Fields[1],i.Fields[3]));throw"rebalance"}return e.mk(e.mk(n,t,r,i.Fields[2]),i.Fields[0],i.Fields[1],i.Fields[3])}throw"rebalance"}if(o>u+2){if("MapNode"===n.Case){if(e.height(n.Fields[3])>u+1){if("MapNode"===n.Fields[3].Case)return e.mk(e.mk(n.Fields[2],n.Fields[0],n.Fields[1],n.Fields[3].Fields[2]),n.Fields[3].Fields[0],n.Fields[3].Fields[1],e.mk(n.Fields[3].Fields[3],t,r,i));throw"rebalance"}return e.mk(n.Fields[2],n.Fields[0],n.Fields[1],e.mk(n.Fields[3],t,r,i))}throw"rebalance"}return e.mk(n,t,r,i)},e.add=function(n,t,r,i){if("MapOne"===i.Case){var o=n.Compare(t,i.Fields[0]);return o<0?new e("MapNode",[t,r,new e("MapEmpty",[]),i,2]):0===o?new e("MapOne",[t,r]):new e("MapNode",[t,r,i,new e("MapEmpty",[]),2])}if("MapNode"===i.Case){var o=n.Compare(t,i.Fields[0]);return o<0?e.rebalance(e.add(n,t,r,i.Fields[2]),i.Fields[0],i.Fields[1],i.Fields[3]):0===o?new e("MapNode",[t,r,i.Fields[2],i.Fields[3],i.Fields[4]]):e.rebalance(i.Fields[2],i.Fields[0],i.Fields[1],e.add(n,t,r,i.Fields[3]))}return new e("MapOne",[t,r])},e.find=function(n,t,r){var i=e.tryFind(n,t,r);if(null!=i)return i;throw"key not found"},e.tryFind=function(n,t,r){if("MapOne"===r.Case){var i=n.Compare(t,r.Fields[0]);return 0===i?r.Fields[1]:null}if("MapNode"===r.Case){var i=n.Compare(t,r.Fields[0]);return i<0?e.tryFind(n,t,r.Fields[2]):0===i?r.Fields[1]:e.tryFind(n,t,r.Fields[3])}return null},e.partition1=function(n,t,r,i,o,u){return t(r,i)?[e.add(n,r,i,o),u]:[o,e.add(n,r,i,u)]},e.partitionAux=function(n,t,r,i,o){var u=[i,o];if("MapOne"===r.Case)return e.partition1(n,t,r.Fields[0],r.Fields[1],u[0],u[1]);if("MapNode"===r.Case){var a=e.partitionAux(n,t,r.Fields[3],u[0],u[1]),s=e.partition1(n,t,r.Fields[0],r.Fields[1],a[0],a[1]);return e.partitionAux(n,t,r.Fields[2],s[0],s[1])}return u},e.partition=function(n,t,r){return e.partitionAux(n,t,r,e.empty(),e.empty())},e.filter1=function(n,t,r,i,o){return t(r,i)?e.add(n,r,i,o):o},e.filterAux=function(n,t,r,i){return"MapOne"===r.Case?e.filter1(n,t,r.Fields[0],r.Fields[1],i):"MapNode"===r.Case?function(){var o=e.filterAux(n,t,r.Fields[2],i),u=e.filter1(n,t,r.Fields[0],r.Fields[1],o);return e.filterAux(n,t,r.Fields[3],u)}():i},e.filter=function(n,t,r){return e.filterAux(n,t,r,e.empty())},e.spliceOutSuccessor=function(n){if("MapOne"===n.Case)return[n.Fields[0],n.Fields[1],new e("MapEmpty",[])];if("MapNode"===n.Case){if("MapEmpty"===n.Fields[2].Case)return[n.Fields[0],n.Fields[1],n.Fields[3]];var t=e.spliceOutSuccessor(n.Fields[2]);return[t[0],t[1],e.mk(t[2],n.Fields[0],n.Fields[1],n.Fields[3])]}throw"internal error: Map.spliceOutSuccessor"},e.remove=function(n,t,r){if("MapOne"===r.Case){var i=n.Compare(t,r.Fields[0]);return 0===i?new e("MapEmpty",[]):r}if("MapNode"===r.Case){var i=n.Compare(t,r.Fields[0]);if(i<0)return e.rebalance(e.remove(n,t,r.Fields[2]),r.Fields[0],r.Fields[1],r.Fields[3]);if(0===i){var o=[r.Fields[2],r.Fields[3]];if("MapEmpty"===o[0].Case)return r.Fields[3];if("MapEmpty"===o[1].Case)return r.Fields[2];var u=e.spliceOutSuccessor(r.Fields[3]),a=u[1],s=u[0],c=u[2];return e.mk(r.Fields[2],s,a,c)}return e.rebalance(r.Fields[2],r.Fields[0],r.Fields[1],e.remove(n,t,r.Fields[3]))}return e.empty()},e.mem=function(n,t,r){return"MapOne"===r.Case?0===n.Compare(t,r.Fields[0]):"MapNode"===r.Case&&function(){var i=n.Compare(t,r.Fields[0]);return i<0?e.mem(n,t,r.Fields[2]):0===i||e.mem(n,t,r.Fields[3])}()},e.iter=function(n,t){"MapOne"===t.Case?n(t.Fields[0],t.Fields[1]):"MapNode"===t.Case&&(e.iter(n,t.Fields[2]),n(t.Fields[0],t.Fields[1]),e.iter(n,t.Fields[3]))},e.tryPick=function(n,t){return"MapOne"===t.Case?n(t.Fields[0],t.Fields[1]):"MapNode"===t.Case?function(){var r=e.tryPick(n,t.Fields[2]);if(null==r){var i=n(t.Fields[0],t.Fields[1]);if(null==i)return e.tryPick(n,t.Fields[3]);var o=i;return o}var o=r;return o}():null},e.exists=function(n,t){return"MapOne"===t.Case?n(t.Fields[0],t.Fields[1]):"MapNode"===t.Case&&(!(!e.exists(n,t.Fields[2])&&!n(t.Fields[0],t.Fields[1]))||e.exists(n,t.Fields[3]))},e.forall=function(n,t){return"MapOne"===t.Case?n(t.Fields[0],t.Fields[1]):"MapNode"!==t.Case||!(!e.forall(n,t.Fields[2])||!n(t.Fields[0],t.Fields[1]))&&e.forall(n,t.Fields[3])},e.mapi=function(n,t){return"MapOne"===t.Case?new e("MapOne",[t.Fields[0],n(t.Fields[0],t.Fields[1])]):"MapNode"===t.Case?function(){var r=e.mapi(n,t.Fields[2]),i=n(t.Fields[0],t.Fields[1]),o=e.mapi(n,t.Fields[3]);return new e("MapNode",[t.Fields[0],i,r,o,t.Fields[4]])}():e.empty()},e.foldBack=function(n,t,r){return"MapOne"===t.Case?n(t.Fields[0],t.Fields[1],r):"MapNode"===t.Case?function(){var i=e.foldBack(n,t.Fields[3],r),o=n(t.Fields[0],t.Fields[1],i);return e.foldBack(n,t.Fields[2],o)}():r},e.fold=function(n,t,r){return"MapOne"===r.Case?n(t,r.Fields[0],r.Fields[1]):"MapNode"===r.Case?function(){var i=e.fold(n,t,r.Fields[2]),o=n(i,r.Fields[0],r.Fields[1]);return e.fold(n,o,r.Fields[3])}():t},e.mkFromEnumerator=function(n,t,r){for(var i=r.next();!i.done;)t=e.add(n,i.value[0],i.value[1],t),i=r.next();return t},e.ofSeq=function(n,t){var r=t[Symbol.iterator]();return e.mkFromEnumerator(n,e.empty(),r)},e.collapseLHS=function(n){return null!=n.tail?"MapOne"===n.head.Case?n:"MapNode"===n.head.Case?e.collapseLHS(C.ofArray([n.head.Fields[2],new e("MapOne",[n.head.Fields[0],n.head.Fields[1]]),n.head.Fields[3]],n.tail)):e.collapseLHS(n.tail):new C},e.mkIterator=function(n){return{stack:e.collapseLHS(new C(n,new C)),started:!1}},e.moveNext=function(n){function t(e){if(null==e.stack.tail)return null;if("MapOne"===e.stack.head.Case)return[e.stack.head.Fields[0],e.stack.head.Fields[1]];throw"Please report error: Map iterator, unexpected stack for current"}if(n.started){if(null==n.stack.tail)return{done:!0};if("MapOne"===n.stack.head.Case)return n.stack=e.collapseLHS(n.stack.tail),{done:null==n.stack.tail,value:t(n)};throw"Please report error: Map iterator, unexpected stack for moveNext"}return n.started=!0,{done:null==n.stack.tail,value:t(n)}},e}(),E=function(){function e(){i(this,e)}return e.from=function(n,t){var r=new e;return r.tree=t,r.comparer=n||new p,r},e.create=function(n,t){return t=t||new p,e.from(t,n?k.ofSeq(t,n):k.empty())},e.prototype.ToString=function(){return"map ["+Array.from(this).map(d.toString).join("; ")+"]"},e.prototype.Equals=function(e){return 0===this.CompareTo(e)},e.prototype.CompareTo=function(e){var n=this;return w.compareWith(function(e,t){var r=n.comparer.Compare(e[0],t[0]);return 0!==r?r:d.compare(e[1],t[1])},this,e)},e.prototype[Symbol.iterator]=function(){var e=k.mkIterator(this.tree);return{next:function(){return k.moveNext(e)}}},e.prototype.entries=function(){return this[Symbol.iterator]()},e.prototype.keys=function(){return w.map(function(e){return e[0]},this)},e.prototype.values=function(){return w.map(function(e){return e[1]},this)},e.prototype.get=function(e){return k.find(this.comparer,e,this.tree)},e.prototype.has=function(e){return k.mem(this.comparer,e,this.tree)},e.prototype.set=function(e,n){throw"not supported"},e.prototype.delete=function(e){throw"not supported"},e.prototype.clear=function(){throw"not supported"},e.add=function(n,t,r){return e.from(r.comparer,k.add(r.comparer,n,t,r.tree))},e.remove=function(n,t){return e.from(t.comparer,k.remove(t.comparer,n,t.tree))},e.containsValue=function(e,n){return w.fold(function(t,r){return t||d.equals(n.get(r),e)},!1,n.keys())},e.exists=function(e,n){return k.exists(e,n.tree)},e.find=function(e,n){return k.find(n.comparer,e,n.tree)},e.tryFind=function(e,n){return k.tryFind(n.comparer,e,n.tree)},e.filter=function(n,t){return e.from(t.comparer,k.filter(t.comparer,n,t.tree))},e.fold=function(e,n,t){return k.fold(e,n,t.tree)},e.foldBack=function(e,n,t){return k.foldBack(e,n.tree,t)},e.forAll=function(e,n){return k.forall(e,n.tree)},e.isEmpty=function(e){return k.isEmpty(e.tree)},e.iterate=function(e,n){k.iter(e,n.tree)},e.map=function(n,t){return e.from(t.comparer,k.mapi(n,t.tree))},e.partition=function(n,t){var r=k.partition(t.comparer,n,t.tree);return[e.from(t.comparer,r[0]),e.from(t.comparer,r[1])]},e.findKey=function(e,n){return w.pick(function(n){return e(n[0],n[1])?n[0]:null},n)},e.tryFindKey=function(e,n){return w.tryPick(function(n){return e(n[0],n[1])?n[0]:null},n)},e.pick=function(n,t){var r=e.tryPick(n,t);if(null!=r)return r;throw"key not found"},e.tryPick=function(e,n){return k.tryPick(e,n.tree)},s(e,[{key:"size",get:function(){return k.size(this.tree)}}]),e}();d.setInterfaces(E.prototype,["System.IEquatable","System.IComparable"],"Microsoft.FSharp.Collections.FSharpMap"),e.Map=E;var A=e.Nothing=void 0,_=2e3,N=e.Trampoline=function(){function e(){i(this,e),this.callCount=0}return e.prototype.incrementAndCheck=function(){return this.callCount++>_},e.prototype.hijack=function(e){this.callCount=0,setTimeout(e,0)},e}(),M={protectedCont:function(e){return function(n){if(n.cancelToken.isCancelled)n.onCancel("cancelled");else if(n.trampoline.incrementAndCheck())n.trampoline.hijack(function(){try{return e(n)}catch(e){n.onError(e)}});else try{return e(n)}catch(e){n.onError(e)}}},bind:function(e,n){return M.protectedCont(function(t){e({onSuccess:function(e){return n(e)(t)},onError:t.onError,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline})})},return:function(e){return M.protectedCont(function(n){return n.onSuccess(e)})}},I=e.AsyncBuilder=function(){function e(){i(this,e)}return e.prototype.Bind=function(e,n){return M.bind(e,n)},e.prototype.Combine=function(e,n){return this.Bind(e,function(){return n})},e.prototype.Delay=function(e){return M.protectedCont(function(n){return e()(n)})},e.prototype.For=function(e,n){var t=e[Symbol.iterator](),r=t.next();return this.While(function(){return!r.done},this.Delay(function(){var e=n(r.value);return r=t.next(),e}))},e.prototype.Return=function(e){return M.return(e)},e.prototype.ReturnFrom=function(e){return e},e.prototype.TryFinally=function(e,n){return M.protectedCont(function(t){e({onSuccess:function(e){n(),t.onSuccess(e)},onError:function(e){n(),t.onError(e)},onCancel:function(e){n(),t.onCancel(e)},cancelToken:t.cancelToken,trampoline:t.trampoline})})},e.prototype.TryWith=function(e,n){return M.protectedCont(function(t){e({onSuccess:t.onSuccess,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline,onError:function(e){return n(e)(t)}})})},e.prototype.Using=function(e,n){return this.TryFinally(n(e),function(){return e.Dispose()})},e.prototype.While=function(e,n){var t=this;return e()?this.Bind(n,function(){return t.While(e,n)}):this.Return(A)},e.prototype.Zero=function(){return M.protectedCont(function(e){return e.onSuccess(A)})},e}(),T=(e.defaultAsyncBuilder=new I,e.Async=function(){function e(){i(this,e)}return e.awaitPromise=function(n){return e.fromContinuations(function(e){return n.then(e[0]).catch(function(n){return("cancelled"==n?e[2]:e[1])(n)})})},e.catch=function(e){return M.protectedCont(function(n){e({onSuccess:function(e){return n.onSuccess(m.Choice1Of2(e))},onError:function(e){return n.onSuccess(m.Choice2Of2(e))},onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})})},e.fromContinuations=function(e){return M.protectedCont(function(n){return e([n.onSuccess,n.onError,n.onCancel])})},e.ignore=function(e){return M.bind(e,function(e){return M.return(A)})},e.parallel=function(n){return e.awaitPromise(Promise.all(w.map(function(n){return e.startAsPromise(n)},n)))},e.sleep=function(e){return M.protectedCont(function(n){setTimeout(function(){return n.cancelToken.isCancelled?n.onCancel("cancelled"):n.onSuccess(A)},e)})},e.start=function(n,t){return e.startWithContinuations(n,t)},e.emptyContinuation=function(e){},e.startWithContinuations=function(n,t,r,i,o){"function"!=typeof t&&(o=t,t=null);var u=new N;n({onSuccess:t?t:e.emptyContinuation,onError:r?r:e.emptyContinuation,onCancel:i?i:e.emptyContinuation,cancelToken:o?o:e.defaultCancellationToken,trampoline:u})},e.startAsPromise=function(n,t){return new Promise(function(r,i){return e.startWithContinuations(n,r,i,i,t?t:e.defaultCancellationToken)})},s(e,null,[{key:"cancellationToken",get:function(){return M.protectedCont(function(e){return e.onSuccess(e.cancelToken)})}}]),e}());T.defaultCancellationToken={isCancelled:!1},T.startImmediate=T.start;var B=function e(n){i(this,e),this.value=n},P=function(){function e(){i(this,e)}return e.prototype.add=function(e){var n=new B(e);
this.firstAndLast?(this.firstAndLast[1].next=n,this.firstAndLast=[this.firstAndLast[0],n]):this.firstAndLast=[n,n]},e.prototype.tryGet=function(){if(this.firstAndLast){var e=this.firstAndLast[0].value;return this.firstAndLast[0].next?this.firstAndLast=[this.firstAndLast[0].next,this.firstAndLast[1]]:delete this.firstAndLast,e}},e}(),L=(e.MailboxProcessor=function(){function e(n,t){i(this,e),this.body=n,this.cancellationToken=t||T.defaultCancellationToken,this.messages=new P}return e.start=function(n,t){var r=new e(n,t);return r.start(),r},e.prototype.__processEvents=function(){if(this.continuation){var e=this.messages.tryGet();if(e){var n=this.continuation;delete this.continuation,n(e)}}},e.prototype.start=function(){T.startImmediate(this.body(this),this.cancellationToken)},e.prototype.receive=function(){var e=this;return T.fromContinuations(function(n){if(e.continuation)throw"Receive can only be called once!";e.continuation=n[0],e.__processEvents()})},e.prototype.post=function(e){this.messages.add(e),this.__processEvents()},e.prototype.postAndAsyncReply=function(e){function n(){t&&r&&r(t)}var t=void 0,r=void 0,i={reply:function(e){t=e,n()}};return this.messages.add(e(i)),this.__processEvents(),T.fromContinuations(function(e){r=e[0],n()})},e}(),function e(n,t,r){i(this,e),this.OnNext=n,this.OnError=t||function(e){},this.OnCompleted=r||function(){}});d.setInterfaces(L.prototype,["System.IObserver"]);var D=function e(n){i(this,e),this.Subscribe=n};d.setInterfaces(D.prototype,["System.IObservable"]);var j=function(){function e(){i(this,e)}return e.__protect=function(e,n,t){try{return n(e())}catch(e){t(e)}},e.add=function(e,n){n.Subscribe(new L(e))},e.choose=function(n,t){return new D(function(r){return t.Subscribe(new L(function(t){return e.__protect(function(){return n(t)},function(e){null!=e&&r.OnNext(e)},r.OnError)},r.OnError,r.OnCompleted))})},e.filter=function(n,t){return e.choose(function(e){return n(e)?e:null},t)},e.map=function(n,t){return new D(function(r){return t.Subscribe(new L(function(t){e.__protect(function(){return n(t)},r.OnNext,r.OnError)},r.OnError,r.OnCompleted))})},e.merge=function(e,n){return new D(function(t){var r=!1,i=!1,o=!1,u=e.Subscribe(new L(function(e){r||t.OnNext(e)},function(e){r||(r=!0,t.OnError(e))},function(){r||(i=!0,o&&(r=!0,t.OnCompleted()))})),a=n.Subscribe(new L(function(e){r||t.OnNext(e)},function(e){r||(r=!0,t.OnError(e))},function(){r||(o=!0,i&&(r=!0,t.OnCompleted()))}));return d.createDisposable(function(){u.Dispose(),a.Dispose()})})},e.pairwise=function(e){return new D(function(n){var t=null;return e.Subscribe(new L(function(e){null!=t&&n.OnNext([t,e]),t=e},n.OnError,n.OnCompleted))})},e.partition=function(n,t){return o(e.filter(n,t),e.filter(function(e){return!n(e)},t))},e.scan=function(n,t,r){return new D(function(i){return r.Subscribe(new L(function(r){e.__protect(function(){return n(t,r)},function(e){t=e,i.OnNext(e)},i.OnError)},i.OnError,i.OnCompleted))})},e.split=function(n,t){return o(e.choose(function(e){return n(e).valueIfChoice1},t),e.choose(function(e){return n(e).valueIfChoice2},t))},e.subscribe=function(e,n){return n.Subscribe(new L(e))},e}();e.Observable=j;var R=e.Event=function(){function e(n,t){i(this,e),this._subscriber=n,this.delegates=t||new Array}return e.prototype.Add=function(e){this._addHandler(e)},e.prototype.Trigger=function(e){w.iterate(function(n){return n(e)},this.delegates)},e.prototype._addHandler=function(e){this.delegates.push(e)},e.prototype._removeHandler=function(e){var n=this.delegates.findIndex(function(n){return""+n==""+e});n>-1&&this.delegates.splice(n,1)},e.prototype.AddHandler=function(e){this._addHandler(function(n){return e(void 0,n)})},e.prototype.RemoveHandler=function(e){this._removeHandler(function(n){return e(void 0,n)})},e.prototype._subscribeFromObserver=function(e){var n=this;if(this._subscriber)return this._subscriber(e);var t=e.OnNext;return this._addHandler(t),d.createDisposable(function(){return n._removeHandler(t)})},e.prototype._subscribeFromCallback=function(e){var n=this;return this._addHandler(e),d.createDisposable(function(){return n._removeHandler(e)})},e.prototype.Subscribe=function(e){return"function"==typeof e?this._subscribeFromCallback(e):this._subscribeFromObserver(e)},e.add=function(e,n){n.Subscribe(new L(e))},e.choose=function(n,t){var r=t;return new e(function(e){return r.Subscribe(new L(function(t){return j.__protect(function(){return n(t)},function(n){null!=n&&e.OnNext(n)},e.OnError)},e.OnError,e.OnCompleted))},r.delegates)},e.filter=function(n,t){return e.choose(function(e){return n(e)?e:null},t)},e.map=function(n,t){var r=t;return new e(function(e){return r.Subscribe(new L(function(t){return j.__protect(function(){return n(t)},e.OnNext,e.OnError)},e.OnError,e.OnCompleted))},r.delegates)},e.merge=function(n,t){var r=n,i=t;return new e(function(e){var n=!1,t=!1,o=!1,u=r.Subscribe(new L(function(t){n||e.OnNext(t)},function(t){n||(n=!0,e.OnError(t))},function(){n||(t=!0,o&&(n=!0,e.OnCompleted()))})),a=i.Subscribe(new L(function(t){n||e.OnNext(t)},function(t){n||(n=!0,e.OnError(t))},function(){n||(o=!0,t&&(n=!0,e.OnCompleted()))}));return d.createDisposable(function(){u.Dispose(),a.Dispose()})},r.delegates.concat(i.delegates))},e.pairwise=function(n){var t=n;return new e(function(e){var n=null;return t.Subscribe(new L(function(t){null!=n&&e.OnNext([n,t]),n=t},e.OnError,e.OnCompleted))},t.delegates)},e.partition=function(n,t){return o(e.filter(n,t),e.filter(function(e){return!n(e)},t))},e.scan=function(n,t,r){var i=r;return new e(function(e){return i.Subscribe(new L(function(r){j.__protect(function(){return n(t,r)},function(n){t=n,e.OnNext(n)},e.OnError)},e.OnError,e.OnCompleted))},i.delegates)},e.split=function(n,t){return o(e.choose(function(e){return n(e).valueIfChoice1},t),e.choose(function(e){return n(e).valueIfChoice2},t))},s(e,[{key:"Publish",get:function(){return this}}]),e}();e.Lazy=function(){function e(n){i(this,e),this.factory=n,this.isValueCreated=!1}return e.createFromValue=function(n){return new e(function(){return n})},s(e,[{key:"value",get:function(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}}]),e}()});